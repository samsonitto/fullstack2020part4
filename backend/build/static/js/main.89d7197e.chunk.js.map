{"version":3,"sources":["components/Header.js","components/Input.js","components/Header2.js","components/Filter.js","components/Button.js","components/AddNewBlog.js","components/Blogs.js","services/blogs.js","components/Notification.js","components/LoginForm.js","services/login.js","components/Togglable.js","App.js","index.js"],"names":["Header","props","text","Input","type","placeholder","onChange","handleOnChange","id","value","name","Header2","Filter","handleFilterOnChange","Button","onClick","handleClick","AddNewBlog","handleAddTitleOnChange","handleAddAuthorOnChange","handleAddUrlOnChange","handleAddClick","Blogs","blogs","map","blog","i","key","title","author","url","likes","handleLikeClick","handleDeleteClick","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","updatedObject","put","deleteBlog","delete","setToken","newToken","Notification","message","notClassName","className","LoginForm","onSubmit","handleLogin","username","target","setUsername","password","setPassword","login","credentials","Togglable","React","forwardRef","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenHidden","toggleVisibility","useImperativeHandle","style","buttonLabel","children","App","setBlogs","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","setNewLike","blogsToShow","setBlogsToShow","setMessage","notClass","setNotClass","user","setUser","useEffect","blogService","initialBlogs","console","log","catch","error","showMessage","loggedUserJSON","window","localStorage","getItem","JSON","parse","e","preventDefault","loginService","setItem","stringify","blogFormRef","current","newBlog","concat","savedBlog","resetForm","document","getElementById","msg","msgClass","setTimeout","createRef","clear","filtered","filter","toLowerCase","includes","confirm","res","b","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.89d7197e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <h1>{props.text}</h1>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nconst Input = (props) => {\r\n    return (\r\n        <input\r\n            type={props.type}\r\n            placeholder={props.placeholder}\r\n            onChange={props.handleOnChange}\r\n            id={props.id}\r\n            value={props.value}\r\n            name={props.name}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\n\r\nconst Header2 = (props) => {\r\n    return (\r\n        <h2>{props.text}</h2>\r\n    )\r\n}\r\n\r\nexport default Header2","import React from 'react'\r\nimport Input from './Input'\r\nimport Header2 from './Header2'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n        <Header2 text={'Search'} />\r\n        Filter by Name: <Input placeholder={'Name..'} handleOnChange={props.handleFilterOnChange} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Button = (props) => {\r\n    return (\r\n        <button \r\n            onClick={props.handleClick}\r\n            type={props.type}\r\n        >\r\n            {props.text}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from \"react\";\r\nimport Input from './Input';\r\nimport Button from './Button';\r\nimport Header2 from './Header2';\r\n\r\nconst AddNewBlog = (props) => {\r\n    return (\r\n        <>\r\n            <Header2 text={'Add New Blog'} />\r\n            <form>\r\n                <div>\r\n                    Title: <Input placeholder={'Title..'} handleOnChange={props.handleAddTitleOnChange} id={'titleInput0'} /><br />\r\n                    Author: <Input placeholder={'Author..'} handleOnChange={props.handleAddAuthorOnChange} id={'authorInput0'} /><br />\r\n                    Url: <Input placeholder={'Url..'} handleOnChange={props.handleAddUrlOnChange} id={'urlInput0'} />\r\n                </div>\r\n                <div>\r\n                    <Button type={'submit'} handleClick={props.handleAddClick} text={'Add'} />\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddNewBlog","import React from 'react';\r\nimport Header2 from './Header2';\r\nimport Button from './Button';\r\n\r\nconst Blogs = (props) => {\r\n    return (\r\n        <>\r\n          <Header2 text={'Blogs'} />\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Author</th>\r\n                <th>URL</th>\r\n                <th>Likes</th>\r\n                <th>Like</th>\r\n                <th>Delete</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {props.blogs.map((blog, i) => \r\n                <tr id={blog.id} key={blog.id}>\r\n                  <td>{blog.title}</td>\r\n                  <td>{blog.author}</td>\r\n                  <td>{blog.url}</td>\r\n                  <td>{blog.likes}</td>\r\n                  <td><Button text='like' handleClick={() => props.handleLikeClick(blog)} /></td>\r\n                  <td><Button text='delete' handleClick={() => props.handleDeleteClick(blog.id, blog.title)} /></td>\r\n                </tr>\r\n            )}\r\n            </tbody>\r\n            \r\n          </table>\r\n          \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Blogs","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n    const response = await axios.post(baseUrl, newObject, config)\r\n    return response.data\r\n}\r\n\r\nconst update = (updatedObject) => {\r\n    const request = axios.put(`${baseUrl}/${updatedObject.id}`, updatedObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteBlog = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n}\r\n\r\nexport default { getAll, create, update, deleteBlog, setToken }","import React from 'react'\r\n\r\nconst Notification = ({ message, notClassName }) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className={notClassName}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\nimport Input from './Input'\r\nimport Button from './Button'\r\n\r\nconst LoginForm = (props) => (\r\n  <form onSubmit={props.handleLogin}>\r\n    <div>\r\n      username\r\n      <Input\r\n        type=\"text\"\r\n        value={props.username}\r\n        name=\"Username\"\r\n        handleOnChange={({ target }) => props.setUsername(target.value)}\r\n      />\r\n    </div>\r\n    <div>\r\n      password\r\n      <Input\r\n        type=\"password\"\r\n        value={props.password}\r\n        name=\"Password\"\r\n        handleOnChange={({ target }) => props.setPassword(target.value)}\r\n      />\r\n    </div>\r\n    <Button type=\"submit\" text=\"Login\" />\r\n  </form>      \r\n)\r\n\r\nexport default LoginForm","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React, { useState, useImperativeHandle } from 'react'\r\nimport Button from './Button'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [ visible, setVisible ] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenHidden = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <Button handleClick={toggleVisibility} text={props.buttonLabel} />\r\n      </div>\r\n      <div style={showWhenHidden}>\r\n        {props.children}\r\n        <Button handleClick={toggleVisibility} text={'Cancel'} />\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Togglable","import React, { useState, useEffect } from 'react'\nimport Header from './components/Header'\nimport Filter from './components/Filter'\nimport AddNewBlog from './components/AddNewBlog'\nimport Blogs from './components/Blogs'\nimport blogService from './services/blogs'\nimport Notification from './components/Notification'\nimport Button from './components/Button'\nimport LoginForm from './components/LoginForm'\nimport loginService from './services/login'\nimport './App.css'\nimport Togglable from './components/Togglable'\n\n\n\nconst App = () => {\n  const [ blogs, setBlogs] = useState([]) \n  const [ newTitle, setNewTitle ] = useState('')\n  const [ newAuthor, setNewAuthor ] = useState('')\n  const [ newUrl, setNewUrl ] = useState('')\n  const [ newLike, setNewLike ] = useState('')\n  const [ blogsToShow, setBlogsToShow] = useState(blogs)\n  const [ message, setMessage] = useState(null)\n  const [ notClass, setNotClass] = useState(null)\n  const [ username, setUsername ] = useState('')\n  const [ password, setPassword ] = useState('')\n  const [ user, setUser ] = useState(null)\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then(initialBlogs => {\n        setBlogs(initialBlogs)\n        console.log(initialBlogs)\n        setBlogsToShow(initialBlogs)\n      })\n      .catch(error => {\n        showMessage(`Error caught: ${error}`, 'error')\n      })\n    \n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const handleLogin = async (e) => {\n    e.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (error) {\n      showMessage('wrong credentials', 'error')\n    }\n  }\n\n  const handleLogout = () => {\n    console.log('logging out')\n    setUser(null)\n    window.localStorage.clear()\n  }\n  \n\n  const handleAddClick = async (e) => {\n    e.preventDefault()\n    try {\n      if(newTitle === '') {\n        showMessage('Input title', 'error')\n      }\n      else if (newAuthor === '') {\n        showMessage('Input author', 'error')\n      }\n      else if (newUrl === '') {\n        showMessage('Input url', 'error')\n      } else {\n        let newObject = {\n          title: newTitle,\n          author: newAuthor,\n          url: newUrl,\n          likes: 0\n        }\n        \n        blogFormRef.current.toggleVisibility()\n        const newBlog = await blogService.create(newObject)\n        setBlogs(blogs.concat(newBlog.savedBlog))\n        setBlogsToShow(blogs.concat(newBlog.savedBlog))\n        showMessage(`Added ${newTitle}`, 'success')\n        resetForm()\n      }\n    } catch (error) {\n      showMessage(error, 'error')\n    }\n\n  }\n\n  const handleDeleteClick = (id, title) => {\n    let message = `Do you really want to delete ${title}?`\n    if(window.confirm(message)){\n      blogService\n        .deleteBlog(id)\n        .then(res => {\n          setBlogs(blogs.filter(b => b.id !== id))\n          setBlogsToShow(blogs.filter(b => b.id !== id))\n        })\n        .catch(error => {\n          showMessage(`${title} has already been removed from the server`, 'error')\n        })\n    }\n  }\n\n  const handleLikeClick = (blog) => {\n    const updatedObject = {\n      ...blog,\n      likes: blog.likes += 1\n    }\n\n    blogService\n      .update(updatedObject)\n      .then(() => {\n        setBlogs(blogs)\n        showMessage(`You liked ${updatedObject.title}`, 'success')\n      })\n  }\n\n  const resetForm = () => {\n    setNewTitle('')\n    setNewAuthor('')\n    setNewUrl('')\n    setNewLike('')\n    document.getElementById('titleInput0').value = ''\n    document.getElementById('authorInput0').value = ''\n    document.getElementById('urlInput0').value = ''\n  }\n\n  const showMessage = (msg, msgClass) => {\n    setMessage(msg)\n    setNotClass(msgClass)\n    setTimeout(() => {\n      setMessage(null)\n      setNotClass(null)\n    }, 5000)\n  }\n\n  const handleFilterOnChange = (e) => {\n    const filtered = blogs.filter(blog => blog.title.toLowerCase().includes(e.target.value.toLowerCase()))\n    setBlogsToShow(filtered)\n    //setBlogs(filtered)\n  }\n\n  const handleAddTitleOnChange = (e) => {\n    setNewTitle(e.target.value)\n  }\n\n  const handleAddAuthorOnChange = (e) => {\n    setNewAuthor(e.target.value)\n  }\n\n  const handleAddUrlOnChange = (e) => {\n    setNewUrl(e.target.value)\n  }\n\n  const blogFormRef = React.createRef()\n\n  if (user === null) {\n    return (\n      <div>\n        <Header text={'Bloglist'} />\n        <Notification message={message} notClassName={notClass} />\n        <Togglable buttonLabel={'Login'}>\n          <LoginForm \n            handleLogin={handleLogin}\n            username={username}\n            setUsername={setUsername} \n            password={password}\n            setPassword={setPassword}\n          />\n        </Togglable>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <Header text={'Bloglist'} />\n      <Notification message={message} notClassName={notClass} />\n      <p>{user.name} logged in</p><Button text={\"logout\"} handleClick={handleLogout} />\n      <Togglable buttonLabel={'New Blog'} ref={blogFormRef}>\n        <AddNewBlog \n          handleAddTitleOnChange={handleAddTitleOnChange} \n          handleAddAuthorOnChange={handleAddAuthorOnChange}\n          handleAddUrlOnChange={handleAddUrlOnChange}\n          handleAddClick={handleAddClick}\n        />\n      </Togglable>\n      <Filter handleFilterOnChange={handleFilterOnChange} />\n    \n      <Blogs blogs={blogsToShow} handleDeleteClick={handleDeleteClick} handleLikeClick={handleLikeClick} />      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}